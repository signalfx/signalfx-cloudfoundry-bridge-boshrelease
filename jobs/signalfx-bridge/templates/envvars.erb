#!/bin/bash

export CLOUDFOUNDRY_API_URL="<%= p("cf.api_url") %>"
export CF_UAA_URL="<%= p("cf.uaa_url") %>"
export CF_USERNAME=<%= p("cf.username") %>
export CF_PASSWORD=<%= p("cf.password") %>

export BOSH_DIRECTOR_URL=<%= p("bosh.director_url") %>
export BOSH_CLIENT_ID=<%= p("bosh.client_id") %>
export BOSH_CLIENT_SECRET=<%= p("bosh.client_secret") %>

<% if_p("cf.traffic_controller_url") do |url| %>
export TRAFFIC_CONTROLLER_URL=<%= url %>
<% end %>
export FIREHOSE_SUBSCRIPTION_ID="<%= p("firehose.subscription_id") %>"
export FLUSH_INTERVAL_SECONDS=<%= p("flush_interval_seconds") %>
export FIREHOSE_IDLE_TIMEOUT_SECONDS=<%= p("firehose.idle_timeout_seconds") %>
export INSECURE_SSL_SKIP_VERIFY=<%= p("insecure_ssl_skip_verify") %>
export ENABLE_TSDB_SERVER=<%= p("enable_tsdb_server") %>
export APP_METADATA_CACHE_EXPIRY_SECONDS=<%= p("app_metadata_cache_expiry_seconds") %>
export DEPLOYMENTS_TO_INCLUDE=<%= p("deployments_to_include") %>
export METRICS_TO_EXCLUDE=<%= p("metrics_to_exclude") %>

export SIGNALFX_INGEST_URL=<%= p("signalfx.ingest_url") %>
export SIGNALFX_ACCESS_TOKEN=<%= p("signalfx.access_token") %>

<% if_p("http_proxy") do |url| %>
export http_proxy=<%= url %>
<% end %>
<% if_p("https_proxy") do |url| %>
export https_proxy=<%= url %>
<% end %>
<% if_p("no_proxy") do |url| %>
export no_proxy=<%= url %>
<% end %>
